<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>DFace Models Hosting</title>
  <style>
    body { font-family: "Segoe UI", sans-serif; background:#f8fafc; margin:0; padding:2em; }
    h1 { color:#2c3e50; }
    button { padding:10px 16px; margin:12px 0; background:#2563eb; color:white; border:none; border-radius:6px; cursor:pointer; }
    button:hover { background:#1d4ed8; }
    table { border-collapse: collapse; margin-top:20px; width:100%; max-width:700px; }
    th, td { border:1px solid #ccc; padding:8px 10px; font-size:14px; }
    th { background:#f1f5f9; }
    .ok { color:green; font-weight:bold; }
    .fail { color:red; font-weight:bold; }
    a { color:#2563eb; text-decoration:none; }
    a:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <h1>DFace Models Hosting</h1>
  <p>โฟลเดอร์นี้โฮสต์ไฟล์โมเดล <code>face-api.js</code> สำหรับ DFace</p>
  <button onclick="checkModels()">ตรวจสอบไฟล์โมเดล</button>
  <div id="result"></div>

  <script>
    const BASE = "https://oct21master.github.io/dface-models/models";
    const required = [
      "tiny_face_detector_model-weights_manifest.json",
      "tiny_face_detector_model-shard1",
      "face_landmark_68_model-weights_manifest.json",
      "face_landmark_68_model-shard1",
      "face_recognition_model-weights_manifest.json",
      "face_recognition_model-shard1",
      "face_recognition_model-shard2"
    ];

    async function checkModels() {
      const container = document.getElementById("result");
      container.innerHTML = "<p>กำลังตรวจสอบ...</p>";
      const results = await Promise.all(required.map(async file => {
        const url = `${BASE}/${file}`;
        try {
          const res = await fetch(url, { method: "HEAD" });
          return { file, url, ok: res.ok, status: res.status };
        } catch (e) {
          return { file, url, ok: false, status: "error" };
        }
      }));

      let html = "<table><tr><th>ไฟล์</th><th>สถานะ</th><th>ลิงก์</th></tr>";
      results.forEach(r => {
        html += `<tr>
          <td>${r.file}</td>
          <td class="${r.ok ? 'ok':'fail'}">${r.ok ? '✓ OK' : '✗ Missing'} (${r.status})</td>
          <td><a href="${r.url}" target="_blank">เปิด</a></td>
        </tr>`;
      });
      html += "</table>";
      container.innerHTML = html;
    }
  </script>
</body>
</html>
