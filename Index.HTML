<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DFace Models Hosting</title>
  <style>
    body { font-family: sans-serif; background:#f7f9fc; margin:0; padding:2em; }
    h1 { color:#2c3e50; }
    button { padding:8px 14px; margin:10px 0; background:#3498db; color:white; border:none; border-radius:4px; cursor:pointer; }
    table { border-collapse: collapse; margin-top: 20px; }
    th, td { border:1px solid #ccc; padding:6px 10px; }
    th { background:#ecf0f1; }
    .ok { color:green; font-weight:bold; }
    .fail { color:red; font-weight:bold; }
  </style>
</head>
<body>
  <h1>DFace Models Hosting</h1>
  <p>โฟลเดอร์นี้โฮสต์ไฟล์โมเดล <code>face-api.js</code> สำหรับ DFace</p>
  <button onclick="checkModels()">ตรวจสอบไฟล์โมเดล</button>
  <div id="result"></div>

  <script>
    const BASE = "https://oct21master.github.io/dface-models/models";
    const required = [
      "tiny_face_detector_model-weights_manifest.json",
      "tiny_face_detector_model-shard1",
      "face_landmark_68_model-weights_manifest.json",
      "face_landmark_68_model-shard1",
      "face_recognition_model-weights_manifest.json",
      "face_recognition_model-shard1",
      "face_recognition_model-shard2"
    ];

    async function checkModels() {
      const container = document.getElementById("result");
      container.innerHTML = "<p>กำลังตรวจสอบ...</p>";
      const results = await Promise.all(required.map(async file => {
        const url = `${BASE}/${file}`;
        try {
          const res = await fetch(url, { method: "HEAD" });
          return { file, ok: res.ok, status: res.status };
        } catch (e) {
          return { file, ok: false, status: "error" };
        }
      }));

      // สร้างตารางผลลัพธ์
      let html = "<table><tr><th>ไฟล์</th><th>สถานะ</th></tr>";
      results.forEach(r => {
        html += `<tr>
          <td>${r.file}</td>
          <td class="${r.ok ? 'ok':'fail'}">${r.ok ? '✓ OK' : '✗ Missing'} (${r.status})</td>
        </tr>`;
      });
      html += "</table>";
      container.innerHTML = html;
    }
  </script>
</body>
</html>
